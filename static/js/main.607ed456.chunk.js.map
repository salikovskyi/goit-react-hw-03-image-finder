{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/searchApi.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","reset","this","className","css","searchbar","form","type","button","button_label","onChange","input","autoComplete","autoFocus","placeholder","required","Component","ImageGalleryItem","picture","onClick","gallery_item","largeImageURL","src","webformatURL","alt","tags","image","ImageGallery","pictures","element","map","id","gallery","Button","div","loader","center","color","height","width","modalRoot","document","querySelector","Modal","hendelKeyDown","code","showModal","hendelBecdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","instance","axios","create","baseURL","params","key","productsApi","page","q","get","App","imgTags","largeImage","error","loading","finish","toggleModal","bigImage","searchQuery","onChangeQwery","loadMore","prevProps","prevState","fetchProducts","a","data","newState","hits","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.607ed456.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery_item\":\"ImageGalleryItem_gallery_item__2jqUK\",\"image\":\"ImageGalleryItem_image__23eI0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__YMjNE\",\"div\":\"Button_div__2zNdv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1nrQE\",\"modal\":\"Modal_modal__31AA9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__bvgO_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"Loader_center__bi_dJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3PJi8\",\"form\":\"Searchbar_form__2BhQk\",\"button\":\"Searchbar_button__1hBOA\",\"button_label\":\"Searchbar_button_label__1_Fz5\",\"input\":\"Searchbar_input__SsOcN\"};","import css from './Searchbar.module.css'\r\nimport { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: \"\"\r\n    }\r\n\r\n    handleChange = ({target}) => {\r\n        const {name, value} = target;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e)=> {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state);\r\n        this.reset()\r\n    }\r\n\r\n    reset(){\r\n        this.setState({query: \"\"})\r\n    }\r\n\r\n    render(){\r\n        const {query} = this.state;\r\n        const {handleChange, handleSubmit} = this;\r\n\r\n        return (\r\n            // <form onSubmit={handleSubmit}>\r\n            //     <input onChange={handleChange} name=\"query\" value={query} type=\"text\" placeholder=\"Product name\" required />\r\n            //     <button type=\"submit\">Поиск</button>\r\n            // </form>\r\n\r\n            <header className={css.searchbar}>\r\n            <form className={css.form} onSubmit={handleSubmit}>\r\n              <button type=\"submit\" className={css.button}>\r\n                <span className={css.button_label}>Search</span>\r\n              </button>\r\n          \r\n              <input\r\n              onChange={handleChange}\r\n                className={css.input}\r\n                type=\"text\"\r\n                name='query'\r\n                value={query}\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                required\r\n              />\r\n            </form>\r\n          </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import css from './ImageGalleryItem.module.css'\r\n\r\n\r\nexport default function ImageGalleryItem({picture, onClick}) {\r\n    return (\r\n    <li className={css.gallery_item} onClick={()=> onClick(picture.largeImageURL)}>\r\n  <img src={picture.webformatURL} alt={picture.tags} className={css.image}/>\r\n</li>\r\n    )\r\n}","import css from './ImageGallery.module.css'\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\n\r\nexport default function ImageGallery({pictures, onClick}) {\r\n    const element = pictures.map(picture => <ImageGalleryItem onClick={onClick} picture={picture} key={picture.id} {...picture}/>)\r\n    return (\r\n    <ul className={css.gallery}>\r\n        {element}\r\n    </ul>\r\n    )\r\n}","import css from './Button.module.css'\r\nimport propTypes from 'prop-types'\r\n\r\n\r\n\r\nexport default function Button({onClick}) {\r\n    return(\r\n        <div className={css.div}>\r\n    <button className={css.button} onClick={onClick}>ГРУЗИМ ЁПТ</button>\r\n    </div>\r\n    )\r\n}\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport css from './Loader.module.css';\r\n\r\n\r\nconst loader = () => {\r\n    return (\r\n        <div className={css.center}>\r\n<Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n</div>\r\n)\r\n  };\r\n  export default loader;","import css from './Modal.module.css'\r\nimport {Component} from 'react'\r\nimport { createPortal } from 'react-dom';\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n\r\nclass Modal extends Component {\r\n\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.hendelKeyDown);\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.hendelKeyDown);\r\n  }\r\n  hendelKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n  hendelBecdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n  render() {\r\n\r\n    return createPortal(\r\n      <div className={css.overlay} onClick={this.hendelBecdropClick}>\r\n    <div className={css.modal}>\r\n      {this.props.children}\r\n    </div>\r\n  </div>,\r\n  modalRoot\r\n      )\r\n  }\r\n}\r\n\r\nexport default Modal;","import axios from \"axios\";\r\n\r\n\r\nconst key = '24498679-f86143e0bdf849ada732017c0';\r\n\r\n// const searchApi = ({ query = '' , page = 1}) => {\r\n//     return(\r\n//         axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n//     ).then(({data}) => data.hits)\r\n// };\r\n\r\n// export default searchApi;\r\n\r\nconst instance = axios.create({\r\n    baseURL : 'https://pixabay.com/api',\r\n    params: {\r\n        key: key\r\n    }\r\n})\r\n\r\nconst getPictures = (page) =>{\r\n    return (\r\n        instance.get(`/?_page=${page}`)\r\n    )\r\n}\r\n\r\nconst searchPictures = (page = 1, q) => {\r\n    // console.log(page);\r\n    return instance.get('/', {\r\n        params: {\r\n            page,\r\n            q\r\n        }\r\n    })\r\n}\r\n\r\nexport const productsApi = {\r\n    getPictures,\r\n    searchPictures\r\n}\r\n\r\n\r\n\r\n// ?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12","import { Component } from \"react\";\n// import PropTypes from 'prop-types';\n// import searchApi from './services/searchApi'\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Loader from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport \"./App.css\";\n\n\nimport { productsApi } from \"./services/searchApi\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    query: '',\n    imgTags: '',\n    largeImage: '',\n    error: null,\n    showModal: false,\n    loading: false,\n    finish: false\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, loading, page } = this.state;\n    if (prevState.query !== query || (loading && prevState.page < page)) {\n      this.fetchProducts();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(state => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  bigImage = (largeImage = '') => {\n    this.setState({ largeImage });\n\n    this.toggleModal();\n  };\n\n\n\n  // fetchPicture = () => {\n  //   const {page , query} = this.state;\n\n  //   const options = {\n  //     page,\n  //     query,\n  //   };\n\n  //   this.setState({\n  //     loading: true\n  //   })\n\n  //   searchApi(options)\n  //   .then(pictures => {\n  //     this.setState(prevState => ({\n  //       pictures: [...prevState.pictures, ...pictures],\n  //       page: prevState.page + 1\n  //     }))\n  //   })\n  //   .catch(error  => this.setState({error: 'ТАКОГО НЕМАЄ ШАТАП'}))\n  //   .finally(() => this.setState({loading: false}))\n  // }\n\n  searchQuery = ({query})=> {\n    this.setState({query, page: 1, pictures: [], error: null})\n  }\n\n  async fetchProducts() {\n    const {page, query} = this.state;\n    this.setState({ loading: true });\n    try {\n        const {data} = await productsApi.searchPictures(page, query);\n        this.setState(({pictures, page}) => {\n              const newState = {\n                pictures: [...pictures, ...data.hits],\n                loading: false,\n                error: null,\n              }\n              if (data.hits.length < 11) {\n                newState.finish = true\n              }\n          return newState;\n        })  \n    } catch (error) {\n        this.setState({\n            loading: false,\n            error\n        })\n    }\n}\nonChangeQwery = query => {\n  this.setState({ query: query, page: 1, pictures: [], error: null });\n};\n\n\n\nloadMore = () => {\n  this.setState(({ page }) => ({\n      loading: true,\n      page: page + 1\n  }))\n}\n\n  render() {\n    const { pictures, loading, error, showModal, largeImage, imgTags, finish  } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.searchQuery}  />\n        {error && <p>ШАТАп</p>}\n        <ImageGallery pictures={pictures} onClick={this.bigImage}/>\n        {loading && <Loader />}\n        {!finish && pictures.length > 11 && !loading && ( <Button onClick={this.loadMore} />)}\n       \n       {showModal && (<Modal showModal={this.bigImage}>\n             {/* largeIMG={largeImage} alt={imgTags}  */}\n            <img src={largeImage} alt={imgTags} />\n            {/* <h1>celuyu v plichi i do vstrechi</h1> */}\n          </Modal>)}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}