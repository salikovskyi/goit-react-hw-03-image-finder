(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,a){e.exports={gallery_item:"ImageGalleryItem_gallery_item__2jqUK",image:"ImageGalleryItem_image__23eI0"}},16:function(e,t,a){e.exports={button:"Button_button__YMjNE",div:"Button_div__2zNdv"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__1nrQE",modal:"Modal_modal__31AA9"}},29:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__bvgO_"}},31:function(e,t,a){e.exports={center:"Loader_center__bi_dJ"}},37:function(e,t,a){},61:function(e,t,a){},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3PJi8",form:"Searchbar_form__2BhQk",button:"Searchbar_button__1hBOA",button_label:"Searchbar_button_label__1_Fz5",input:"Searchbar_input__SsOcN"}},80:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),i=(a(37),a(14)),s=a.n(i),l=a(18),u=a(27),h=a(4),d=a(5),p=a(7),b=a(6),g=a(12),m=a(8),j=a.n(m),f=a(2),v=a.n(f),y=a(0),_=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(g.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state),e.reset()},e}return Object(d.a)(a,[{key:"reset",value:function(){this.setState({query:""})}},{key:"render",value:function(){var e=this.state.query,t=this.handleChange,a=this.handleSubmit;return Object(y.jsx)("header",{className:j.a.searchbar,children:Object(y.jsxs)("form",{className:j.a.form,onSubmit:a,children:[Object(y.jsx)("button",{type:"submit",className:j.a.button,children:Object(y.jsx)("span",{className:j.a.button_label,children:"Search"})}),Object(y.jsx)("input",{onChange:t,className:j.a.input,type:"text",name:"query",value:e,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",required:!0})]})})}}]),a}(n.Component);_.protoType={query:v.a.string};var O=_,x=a(28),k=a(29),w=a.n(k),S=a(15),C=a.n(S);function N(e){var t=e.picture,a=e.onClick;return Object(y.jsx)("li",{className:C.a.gallery_item,onClick:function(){return a(t.largeImageURL)},children:Object(y.jsx)("img",{src:t.webformatURL,alt:t.tags,className:C.a.image})})}function M(e){var t=e.pictures,a=e.onClick,n=t.map((function(e){return Object(y.jsx)(N,Object(x.a)({onClick:a,picture:e},e),e.id)}));return Object(y.jsx)("ul",{className:w.a.gallery,children:n})}var q=a(16),I=a.n(q);function A(e){var t=e.onClick;return Object(y.jsx)("div",{className:I.a.div,children:Object(y.jsx)("button",{className:I.a.button,onClick:t,children:"\u0413\u0420\u0423\u0417\u0418\u041c \u0401\u041f\u0422"})})}var B=a(30),D=a.n(B),E=(a(60),a(31)),L=a.n(E),U=function(){return Object(y.jsx)("div",{className:L.a.center,children:Object(y.jsx)(D.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})})},T=a(17),J=a.n(T),K=document.querySelector("#modal-root"),P=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).hendelKeyDown=function(t){"Escape"===t.code&&e.props.showModal()},e.hendelBecdropClick=function(t){t.currentTarget===t.target&&e.props.showModal()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendelKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendelKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(y.jsx)("div",{className:J.a.overlay,onClick:this.hendelBecdropClick,children:Object(y.jsx)("div",{className:J.a.modal,children:this.props.children})}),K)}}]),a}(n.Component),Q=P,z=(a(61),a(32)),G=a.n(z).a.create({baseURL:"https://pixabay.com/api",params:{key:"24498679-f86143e0bdf849ada732017c0",image_type:"photo",orientation:"horizontal",per_page:20}}),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return G.get("/",{params:{page:e,q:t}})},F=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictures:[],page:1,query:"",imgTags:"",largeImage:"",error:null,showModal:!1,loading:!1,finish:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.bigImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({largeImage:t}),e.toggleModal()},e.searchQuery=function(t){var a=t.query;e.setState({query:a,page:1,pictures:[],error:null,finish:!1,loading:!1})},e.loadMore=function(){e.setState((function(e){return{loading:!0,page:e.page+1}}))},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.query,r=a.loading,c=a.page;(t.query!==n||r&&t.page<c)&&this.fetchProducts()}},{key:"fetchProducts",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.page,n=t.query,this.setState({loading:!0}),e.prev=2,e.next=5,R(a,n);case 5:r=e.sent,c=r.data,this.setState((function(e){var t=e.pictures,a=(e.page,{pictures:[].concat(Object(l.a)(t),Object(l.a)(c.hits)),loading:!1,error:null});return c.hits.length<11&&(a.finish=!0),0===c.hits.length&&(a.error=!0),a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.setState({loading:!1,error:null});case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.loading,n=e.error,r=e.showModal,c=e.largeImage,o=e.imgTags,i=e.finish;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(O,{onSubmit:this.searchQuery}),n&&Object(y.jsx)("h1",{className:"title",children:"\u0428\u0410\u0422\u0410\u041f \u0411\u0420\u041e"}),Object(y.jsx)(M,{pictures:t,onClick:this.bigImage}),a&&Object(y.jsx)(U,{}),!i&&t.length>11&&!a&&Object(y.jsx)(A,{onClick:this.loadMore}),r&&Object(y.jsx)(Q,{showModal:this.bigImage,children:Object(y.jsx)("img",{src:c,alt:o})})]})}}]),a}(n.Component),W=F;o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(W,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.09ab2849.chunk.js.map