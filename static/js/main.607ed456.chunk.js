(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,a){e.exports={gallery_item:"ImageGalleryItem_gallery_item__2jqUK",image:"ImageGalleryItem_image__23eI0"}},16:function(e,t,a){e.exports={button:"Button_button__YMjNE",div:"Button_div__2zNdv"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__1nrQE",modal:"Modal_modal__31AA9"}},29:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__bvgO_"}},31:function(e,t,a){e.exports={center:"Loader_center__bi_dJ"}},37:function(e,t,a){},61:function(e,t,a){},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3PJi8",form:"Searchbar_form__2BhQk",button:"Searchbar_button__1hBOA",button_label:"Searchbar_button_label__1_Fz5",input:"Searchbar_input__SsOcN"}},80:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),i=(a(37),a(14)),s=a.n(i),l=a(18),u=a(27),h=a(4),d=a(5),b=a(7),p=a(6),g=a(12),m=a(8),j=a.n(m),f=a(0),v=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(g.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state),e.reset()},e}return Object(d.a)(a,[{key:"reset",value:function(){this.setState({query:""})}},{key:"render",value:function(){var e=this.state.query,t=this.handleChange,a=this.handleSubmit;return Object(f.jsx)("header",{className:j.a.searchbar,children:Object(f.jsxs)("form",{className:j.a.form,onSubmit:a,children:[Object(f.jsx)("button",{type:"submit",className:j.a.button,children:Object(f.jsx)("span",{className:j.a.button_label,children:"Search"})}),Object(f.jsx)("input",{onChange:t,className:j.a.input,type:"text",name:"query",value:e,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",required:!0})]})})}}]),a}(n.Component),y=v,_=a(28),O=a(29),x=a.n(O),w=a(15),k=a.n(w);function S(e){var t=e.picture,a=e.onClick;return Object(f.jsx)("li",{className:k.a.gallery_item,onClick:function(){return a(t.largeImageURL)},children:Object(f.jsx)("img",{src:t.webformatURL,alt:t.tags,className:k.a.image})})}function C(e){var t=e.pictures,a=e.onClick,n=t.map((function(e){return Object(f.jsx)(S,Object(_.a)({onClick:a,picture:e},e),e.id)}));return Object(f.jsx)("ul",{className:x.a.gallery,children:n})}var N=a(16),M=a.n(N);function q(e){var t=e.onClick;return Object(f.jsx)("div",{className:M.a.div,children:Object(f.jsx)("button",{className:M.a.button,onClick:t,children:"\u0413\u0420\u0423\u0417\u0418\u041c \u0401\u041f\u0422"})})}var I=a(30),A=a.n(I),B=(a(60),a(31)),D=a.n(B),E=function(){return Object(f.jsx)("div",{className:D.a.center,children:Object(f.jsx)(A.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})})},L=a(17),U=a.n(L),Q=document.querySelector("#modal-root"),J=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).hendelKeyDown=function(t){"Escape"===t.code&&e.props.showModal()},e.hendelBecdropClick=function(t){t.currentTarget===t.target&&e.props.showModal()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendelKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendelKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(f.jsx)("div",{className:U.a.overlay,onClick:this.hendelBecdropClick,children:Object(f.jsx)("div",{className:U.a.modal,children:this.props.children})}),Q)}}]),a}(n.Component),K=J,P=(a(61),a(32)),T=a.n(P).a.create({baseURL:"https://pixabay.com/api",params:{key:"24498679-f86143e0bdf849ada732017c0"}}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return T.get("/",{params:{page:e,q:t}})},R=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictures:[],page:1,query:"",imgTags:"",largeImage:"",error:null,showModal:!1,loading:!1,finish:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.bigImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({largeImage:t}),e.toggleModal()},e.searchQuery=function(t){var a=t.query;e.setState({query:a,page:1,pictures:[],error:null})},e.onChangeQwery=function(t){e.setState({query:t,page:1,pictures:[],error:null})},e.loadMore=function(){e.setState((function(e){return{loading:!0,page:e.page+1}}))},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.query,r=a.loading,c=a.page;(t.query!==n||r&&t.page<c)&&this.fetchProducts()}},{key:"fetchProducts",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.page,n=t.query,this.setState({loading:!0}),e.prev=2,e.next=5,G(a,n);case 5:r=e.sent,c=r.data,this.setState((function(e){var t=e.pictures,a=(e.page,{pictures:[].concat(Object(l.a)(t),Object(l.a)(c.hits)),loading:!1,error:null});return c.hits.length<11&&(a.finish=!0),a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.setState({loading:!1,error:e.t0});case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.loading,n=e.error,r=e.showModal,c=e.largeImage,o=e.imgTags,i=e.finish;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(y,{onSubmit:this.searchQuery}),n&&Object(f.jsx)("p",{children:"\u0428\u0410\u0422\u0410\u043f"}),Object(f.jsx)(C,{pictures:t,onClick:this.bigImage}),a&&Object(f.jsx)(E,{}),!i&&t.length>11&&!a&&Object(f.jsx)(q,{onClick:this.loadMore}),r&&Object(f.jsx)(K,{showModal:this.bigImage,children:Object(f.jsx)("img",{src:c,alt:o})})]})}}]),a}(n.Component),z=R;o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.607ed456.chunk.js.map